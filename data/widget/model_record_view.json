{
    "name": "model_record_view",
    "settingsModel": [
        {
            "name": "model",
            "type": "Record",
            "quantity": "",
            "widget": "model_record_reference",
            "settings": {
                "label": "",
                "model": "model"
            },
            "required": false
        },
        {
            "name": "record",
            "type": "Text",
            "quantity": "",
            "widget": "textbox",
            "settings": "",
            "required": false
        },
        {
            "name": "view",
            "type": "Text",
            "quantity": "",
            "widget": "textbox",
            "settings": "",
            "required": false
        }
    ],
    "settings_unfiltered": [],
    "toHTML": {
        "_is_func": true,
        "args": [
            "label"
        ],
        "javascript": "return this.renderSlot('body');"
    },
    "deps": {},
    "head": [],
    "tags": [
        "view"
    ],
    "slots": [],
    "slot_tags": {},
    "children": {
        "_is_func": true,
        "args": [
            "callback"
        ],
        "javascript": "cms.functions.getRecord(this.settings.model, this.settings.record, function(err, data) {\n    var record = data;\n    cms.functions.getRecord('model', this.settings.model, function(err, data2) {\n        var model = data2;\n        var model_view = model.views[this.settings.view];\n        console.log(model.views);\n        _.each(model_view.widgets, function(widget) {\n            if (widget.model && widget.field) {\n                widget.settings = widget.settings || {};\n                widget.settings.data = record[widget.field];\n                widget.settings.label = widget.field;\n              if (widget.model_type) {\n                widget.settings.model = 'model';\n                widget.settings.record = widget.model_type;\n                widget.settings.inline = 'multi';\n              }\n            }\n        }.bind(this));\n        callback({\n            'body': model_view.widgets\n        }, model_view.slotAssignments);\n    }.bind(this));\n}.bind(this));"
    },
    "wrapper": "",
    "wrapperClass": "",
    "weight": null
}